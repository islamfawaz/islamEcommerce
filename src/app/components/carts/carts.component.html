<section class="w-75 mx-auto rounded-3 bg-main-light p-3 my-3 "
  *ngIf="cartDetails;else msg"
>
    <div class="d-flex justify-content-between align-content-center">
        <h1>Shop Cart</h1>
        <button (click)="removeAllItem()" class="btn btn-outline-danger">Clear All</button>
    </div>
    <p class="text-main">Total price :{{cartDetails.totalCartPrice  |currency}}</p>
    <div class="row border-bottom pb-2" *ngFor="let item of cartDetails.products">
        <div class="col-md-1">
            <img [src]="item.product.imageCover" class="w-100" alt="">
        </div>
        <div class="col-md-11">


            <div class="d-flex justify-content-between  align-items-center ">
                <div>
                    <h3 class="h5">{{item.product.title}}</h3>
                    <p class="text-main m-0"> Price : {{item.price}}</p>
                    <button  #btnRemove (click)="removeItem(item.product._id ,btnRemove)"  class="btn m-0 p-0"><i
                           class="fa-regular fa-trash-can"></i>remove</button>
                </div>

                <div>

                <button #btn1 (click)="updateCartItem(item.product._id,item.count+1 ,btn1 ,btn2)"
                        class="btn border border-success">+</button>
                    <span class="mx-1">{{item.count}}</span>

                    <button #btn2 (click)="updateCartItem(item.product._id,item.count-1,btn1 ,btn2)"
                        class="btn border border-success">-</button>


                </div>
            </div>

        </div>
    </div>
    <button  [routerLink]="['/checkout',cartDetails._id]" class="btn-main mt-3">Online Payment <img  src="./assets/images/visa-1.svg" alt="visa"> </button>
</section> 

<ng-template #msg>
<h2 class="text-center">Your Cart is Empty</h2>
</ng-template>
